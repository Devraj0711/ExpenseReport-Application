<!DOCTYPE html>
<html lang="en">

<head>
    <title id="pageTitle">Default Title</title>
    <!-- <link rel="stylesheet" href="/css/forms.css">
    <link rel="stylesheet" href="/css/product.css"> -->
    <style>
        .included-content {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .included-content object {
            width: 100%;
            height: 100%;
        }
    </style>
</head>

<body>
    <!-- <div class="included-content">
        <object type="text/html" data="../includes/head.html"></object>
    </div>

    <div class="included-content">
        <iframe src="../includes/navigation.html" width="100%" height="500px"></iframe>
         <object type="text/html" data="../includes/navigation.html"></object> -->
    <!-- </div>

    <main>
        Main content goes here -->
    <!-- </main>

    <div class="included-content">
        <object type="text/html" data="../includes/end.html"></object>
    </div> -->
    <form class="expense-form" action="/Home/signin" method="POST">
    <div class="sigin">
        <label for="Username">Username</label>
        <input type="text" name="Username" id="Username" required>

        <label for="Password">Enter Password</label>
        <input type="password" name="Password" id="Password" required>
        <button class="btn" type="submit" >Signin</button>

    </div>
     </form>
     
     <form class="expense-signup" action="/" id="signinForm" method="GET">
        <br></br>
        <label for="sigup">Create an Account =></label>
        <button class="btn" type="submit" id="sigup">Signup</button>
     </form>

     <script>
         window.onload = function() {
             // Get data from the server or determine it dynamically
             var pageTitle = "Login Page";  // Replace this with the actual title
             var path = "Home/signup";  // Replace this with the actual path
 
             // Set the page title
             document.title = pageTitle;

            }; //end of function

            document.addEventListener('DOMContentLoaded', (event) => {
    const signinForm = document.querySelector('.expense-form');
    signinForm.addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent the form from submitting in the traditional way

        const usernameInput = document.getElementById('Username').value;
        const passwordInput = document.getElementById('Password').value;

        // Perform the API call here
        fetch('/Home/signin', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({
                Username: usernameInput,
                Password: passwordInput 
            })
        })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                alert(data.message); 
            } else {
                alert(data.error); 
            }
        })
        .catch(error => {
            console.error('Error:', error);
        });
    });
});


            // function handleLoginFormSubmission(event) {
            //     event.preventDefault(); 

 
            //     // Set other dynamic content as needed
            //     // ...
            //     const usernameInput = document.getElementById('Username').value;
            //     console.log(usernameInput);
            //     const passwordInput = document.getElementById('Password').value;
            //     fetch('/Home/signin', {
            //         method: 'POST',
            //         headers: {
            //             'Content-Type': 'application/json'
            //         },
            //             body: JSON.stringify({
            //             Username: usernameInput,
            //             Password: passwordInput 
            //         })
            //     })
            //     .then(response => response.json())
            //     .then(data => {
            //         if (data.success) {
            //             alert(data.message); 
            //         } 
            //         else {
            //      // Login failed, show an error alert
            //          alert(data.error); 
            //      }
            //     })
            //     .catch(error => {
            //         console.error('Error:', error);
    
            //      });
         
        // }; //end of function

     </script>

</body> 

</html>
